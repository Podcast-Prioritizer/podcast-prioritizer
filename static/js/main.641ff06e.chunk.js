(this["webpackJsonppodcast-prioritizer"]=this["webpackJsonppodcast-prioritizer"]||[]).push([[0],{10:function(e,t,a){e.exports=a.p+"static/media/nounAngry.d6283cc7.png"},12:function(e,t,a){e.exports=a.p+"static/media/cyclist.dad81756.png"},13:function(e,t,a){e.exports=a.p+"static/media/pedestrian.9f29c988.png"},24:function(e,t,a){e.exports=a.p+"static/media/logo.0b2aa362.png"},27:function(e,t,a){e.exports=a(51)},51:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),i=a(11),o=a.n(i),r=a(2),c=a(3),l=a(5),m=a(4),d=a(6),u=(a(9),a(24)),p=a.n(u),h=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"Header"},n.a.createElement("div",{className:"Header__displayArea"},n.a.createElement("div",{className:"Header__headerContent"},n.a.createElement("div",{className:"wrapper"},n.a.createElement("div",{className:"Header__linksAndLogo"},n.a.createElement("img",{className:"Header__logo",src:p.a,alt:"Paths and Podcasts Logo",title:"Paths and Podcasts"})),n.a.createElement("h2",{className:"Header__tagline"},"Who said your commute has to be boring?"),n.a.createElement("div",{className:"Header__textContainer"},n.a.createElement("p",{className:"Header__text"},"A quirky app dedicated to helping the environmentally conscious commuter decide if they should walk or grab their bike in order to get the most out of their favourite podcast episode.")),n.a.createElement("div",{className:"Header__getStarted"},n.a.createElement("button",{className:"Header__scrollButton",onClick:this.props.scrollClickHandler},n.a.createElement("span",{className:"visuallyHidden"},"Get Started"),n.a.createElement("i",{className:"fas fa-angle-double-down","aria-hidden":"true"})))))))}}]),t}(s.Component),_=a(7),E=a.n(_),f=a(8),g=a.n(f),b=function(e){function t(){var e,s;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(s=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).displayMap=function(e,t){return E()({url:"https://www.mapquestapi.com/staticmap/v5/map",params:{key:s.props.apiKey,format:"png",start:e,end:t,size:"300,200@2x",zoom:12,routeColor:"24b62c",routeArc:!0}}).then((function(e){s.props.mapProp(e.request.responseURL)}))},s.getMapInfo=function(e){e.preventDefault(),E.a.all([s.makeAxiosCallBike(s.refs.userStart.value,s.refs.userDestination.value),s.makeAxiosCallWalk(s.refs.userStart.value,s.refs.userDestination.value)]).then((function(e){var t=e[0].data.route.locations,a={startAddress:t[0].street,startCity:t[0].adminArea5,endAddress:t[1].street,endCity:t[1].adminArea5},n=e[0].data.route.formattedTime.split(":").reduce((function(e,t){return 60*e+ +t})),i=e[1].data.route.formattedTime.split(":").reduce((function(e,t){return 60*e+ +t}));s.props.setLocationsProp(a),s.props.setBikeTimeProp(n),s.props.setWalkTimeProp(i),s.displayMap(t[0].street,t[1].street)})).catch((function(e){e?g.a.fire({title:"Uh-oh!",text:"Looks like you're not too sure where you're going.  Make sure you have included both a start and a destination address",imageUrl:a(10),imageWidth:100,confirmButtonText:"Let me try again",padding:"2rem"}):e.request?g.a.fire({title:"Uh-oh!",text:"Looks like you're not too sure where you're going.  Make sure you have included both a start and a destination address",imageUrl:a(10),imageWidth:100,confirmButtonText:"Let me try again",padding:"2rem"}):"00:00:00"!==s.props.stateProp.bikingTime&&""!==s.props.stateProps.walkingTime||g.a.fire({title:"Uh-oh!",text:"Looks like you're not too sure where you're going.  Make sure you have included both a start and a destination address",imageUrl:a(10),imageWidth:100,confirmButtonText:"Let me try again",padding:"2rem"})}))},s.makeAxiosCallBike=function(e,t){return E()({url:"https://www.mapquestapi.com/directions/v2/route",method:"GET",dataType:"json",params:{key:s.props.apiKey,from:e,to:t,routeType:"bicycle"}})},s.makeAxiosCallWalk=function(e,t){return E()({url:"https://www.mapquestapi.com/directions/v2/route",method:"GET",dataType:"json",params:{key:s.props.apiKey,from:e,to:t,routeType:"pedestrian"}})},s.autoCompleteDestination=function(){return E()({url:"http://www.mapquestapi.com/search/v3/prediction",method:"GET",dataType:"json",params:{key:s.props.apiKey,q:s.refs.userDestination.value,collection:"address"}}).then((function(e){e.data.results.slice(0,5).map((function(e){}))}))},s.componentDidMount=function(){window.placeSearch({key:s.props.apiKey,container:document.querySelector("#userStart")}),window.placeSearch({key:s.props.apiKey,container:document.querySelector("#userDestination")})},s}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"MapQuest__searchArea"},n.a.createElement("div",{className:"wrapper"},n.a.createElement("div",{className:"MapQuest__introContent"},n.a.createElement("h2",null,"Hit the road"),n.a.createElement("p",null,"Find the best way to reach your destination. Enter your start location and your desired destination.")),n.a.createElement("form",{className:"MapQuest__form",onSubmit:this.getMapInfo},n.a.createElement("div",{className:"MapQuest__inputContainer"},n.a.createElement("label",{htmlFor:"userStart",className:"MapQuest__label"},"Starting Location"),n.a.createElement("input",{type:"search",id:"userStart",placeholder:"CN Tower, Toronto",ref:"userStart"})),n.a.createElement("div",{className:"MapQuest__inputContainer"},n.a.createElement("label",{htmlFor:"userDestination",className:"MapQuest__label"},"Destination"),n.a.createElement("input",{type:"search",id:"userDestination",placeholder:"483 Queen St W, Toronto",ref:"userDestination"})),n.a.createElement("button",{className:"MapQuest__submitBtn",type:"submit"},"Search")),n.a.createElement("ol",{className:"MapQuest__list"},n.a.createElement("li",{className:"MapQuest__item"},"First, enter in your starting and destination address and we will calculate the length of your commute."),n.a.createElement("li",{className:"MapQuest__item"},"Next, search for a podcast either by name or keyword."),n.a.createElement("li",{className:"MapQuest__item"},"When you find a podcast that interests you, select an episode to listen to on your commute."),n.a.createElement("li",{className:"MapQuest__item"},"Based on your episode selection, you will get a recommendation on whether walking or taking your bike will be the best option for you. It\u2019s that easy!"))))}}]),t}(s.Component),y=function(e){return"".concat(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"s ",a=Math.floor(Math.abs(e)/3600);return a?"".concat(a," hour").concat(1!==a?t:" "):""}(e)).concat(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"s",a=Math.round(Math.abs(e)/60);return"".concat(a>60?a%60:a," minute").concat(1!==a?t:"")}(e))},C=a(12),k=a.n(C),N=a(13),v=a.n(N),w=a(52);var T=function(e){var t=e.bikingTime,a=e.walkingTime;return n.a.createElement(w.a,{in:!!a,timeout:400,classNames:"show-sidebar",component:null,mountOnEnter:!0,unmountOnExit:!0},n.a.createElement("aside",{className:"CommuteSidebar"},n.a.createElement("div",{className:"CommuteSidebar__textContainer"},n.a.createElement("p",{className:"CommuteSidebar__time"},n.a.createElement("span",{className:"CommuteSidebar__icon"},n.a.createElement("img",{src:k.a,alt:"biking commute length",className:"CommuteSidebar__img"})),y(t)),n.a.createElement("p",{className:"CommuteSidebar__time"},n.a.createElement("span",{className:"CommuteSidebar__icon"},n.a.createElement("img",{src:v.a,alt:"walking commute length",className:"CommuteSidebar__img"})),y(a)))))},S=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(l.a)(this,Object(m.a)(t).call(this))).handleSubmit=function(t){t.preventDefault(),E()({url:"https://listen-api.listennotes.com/api/v2/search",method:"GET",headers:{"X-ListenAPI-Key":"f1e31e292af446549bfbfebe744dd3ce"},dataResponse:"jsonp",params:{q:e.state.userInput,type:"podcast"}}).then((function(t){e.setState({podcastList:t.data.results}),0===e.state.podcastList.length&&g.a.fire({title:"Uh-oh!",text:"Looks like we don't have any podcasts that match your criteria (you must be super picky!).  Please try again and broaden your horizons.",imageUrl:a(10),imageWidth:100,confirmButtonText:"Let me try again",padding:"2rem"})}))},e.handleChange=function(t){e.setState({userInput:t.target.value})},e.getRecentEpisodes=function(t){var a=t.target.id;E()({url:"https://listen-api.listennotes.com/api/v2/podcasts/".concat(a),method:"GET",headers:{"X-ListenAPI-Key":"f1e31e292af446549bfbfebe744dd3ce"},dataResponse:"json"}).then((function(t){var a=[];t.data.episodes.forEach((function(t,s){s<10&&(a.push(t),e.setState({episodeList:a}))}))}))},e.closeEpisodeList=function(){e.setState({episodeList:""})},e.totalTime=function(e){var t=Math.floor(e/3600),a=Math.round((e%=3600)/60);return t>0?"".concat(t," h ").concat(a," min"):"".concat(a," min")},e.showMore=function(e,t){document.getElementById("PodcastCard__description--".concat(t)).classList.toggle("PodcastCard__description--snippet"),"... Show more"===e.target.innerHTML?e.target.innerHTML="Show less":e.target.innerHTML="... Show more"},e.selectEpisode=function(t,a){var s=e.state.episodeList[a].audio_length_sec;e.state.episodeList.map((function(n){n.id===t&&(e.props.setPodcastTime(s),e.props.selectedEpisodeProp(e.state.episodeList[a]))}))},e.showDetails=function(e,t){document.getElementById("EpisodeCard__description--".concat(t)).classList.remove("visuallyHidden"),document.getElementById("EpisodeCard__description--".concat(t)).setAttribute("open",!0)},e.closeDialog=function(e,t){document.getElementById("EpisodeCard__description--".concat(t)).classList.add("visuallyHidden"),document.getElementById("EpisodeCard__description--".concat(t)).setAttribute("open",!1)},e.state={podcastList:[],userInput:"",episodeList:[]},e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("section",{className:"PodcastSearch"},n.a.createElement("div",{className:"wrapper"},n.a.createElement("div",{className:"PodcastSearch__introContent"},n.a.createElement("h2",null,"Pick your Podcast"),n.a.createElement("p",null,"Find an episode of a podcast to keep you entertained on your commute.")),n.a.createElement("form",{onSubmit:this.handleSubmit,className:"PodcastSearch__form"},n.a.createElement("input",{type:"text",placeholder:"Search podcast",onChange:this.handleChange,value:this.state.userInput,className:"PodcastSearch__textInput"}),n.a.createElement("button",{type:"submit",onSubmit:this.handleSubmit,className:"PodcastSearch__submitButton",onClick:this.closeEpisodeList},"Submit")),n.a.createElement("section",{className:"PodcastResults"},this.state.episodeList.length?n.a.createElement("button",{className:"PodcastResults__button--back",onClick:this.closeEpisodeList},n.a.createElement("span",{className:"visuallyHidden"},"Click here to go back"),n.a.createElement("i",{className:"fas fa-arrow-left",title:"Go back"})):null,n.a.createElement("ul",{className:"PodcastResults__list"},this.state.episodeList.length?this.state.episodeList.map((function(t,a){return n.a.createElement("li",{key:t.id,className:"EpisodeResults__item",ref:"singleEpisode"},n.a.createElement("img",{src:t.thumbnail,alt:t.title,className:"PodcastCard__image"}),n.a.createElement("div",null,n.a.createElement("h2",{className:"PodcastCard__title"},t.title),n.a.createElement("dialog",{className:"visuallyHidden",id:"EpisodeCard__description--".concat(a)},n.a.createElement("div",{className:"EpisodeCard__titleBar"},n.a.createElement("p",null,t.title),n.a.createElement("button",{className:"EpisodeCard__closeDialog",onClick:function(t){e.closeDialog(t,a)}},"x")),n.a.createElement("div",{dangerouslySetInnerHTML:{__html:t.description},className:"EpisodeCard__description"})),n.a.createElement("div",{className:"EpisodeCard__options"},n.a.createElement("div",{className:"EpisodeCard__options--container"},n.a.createElement("button",{className:"EpisodeCard__options--listen",onClick:function(){return e.selectEpisode(t.id,a)}},n.a.createElement("i",{className:"fas fa-headphones-alt"})," Listen"),n.a.createElement("p",{className:"EpisodeCard__options--audioLength"},e.totalTime(t.audio_length_sec))),n.a.createElement("button",{className:"EpisodeCard__options--details",onClick:function(t){e.showDetails(t,a)}},"Details"))))})):this.state.podcastList.map((function(t,a){return n.a.createElement("li",{className:"PodcastResults__item",key:t.id},n.a.createElement("div",null,n.a.createElement("img",{src:t.thumbnail,alt:t.title_original,className:"PodcastCard__image",id:t.id,onClick:e.getRecentEpisodes}),n.a.createElement("button",{id:t.id,onClick:e.getRecentEpisodes,className:"PodcastCard__button"},"Episodes")),n.a.createElement("div",{className:"PodcastCard__text"},n.a.createElement("h2",{className:"PodcastCard__title"},t.title_original.split("|")[0]),n.a.createElement("p",{className:"PodcastCard__description PodcastCard__description--snippet",id:"PodcastCard__description--".concat(a)},t.description_original),t.description_original.length>450?n.a.createElement("button",{className:"PodcastCard__button--showMore",onClick:function(t){e.showMore(t,a)}},"... Show more"):null))}))))))}}]),t}(s.Component),P=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.results,a=e.closeResultsProp;console.log(t);var s=t.podcastTime,i=t.bikingTime,o=t.walkingTime,r=t.podcastEpisode,c=t.map;function l(e){var t={cycling:"ComparisonResults__option",pedestrian:"ComparisonResults__option"};return Math.abs(s-o)>Math.abs(s-i)?t.cycling="ComparisonResults__option ComparisonResults__option--selected":t.pedestrian="ComparisonResults__option ComparisonResults__option--selected",t[e]}var m=function(e){var t=e-s;return e===s?n.a.createElement("span",{className:"ComparisonResults__timeDifference ComparisonResults__timeDifference--exact"},"EXACT MATCH"):t<0?n.a.createElement("span",{className:"ComparisonResults__timeDifference ComparisonResults__timeDifference--lower"},"-",y(t)):n.a.createElement("span",{className:"ComparisonResults__timeDifference ComparisonResults__timeDifference--higher"},"+",y(t))};return n.a.createElement(n.a.Fragment,null,n.a.createElement(w.a,{in:!!s,timeout:400,classNames:"show-modal",component:null,mountOnEnter:!0,unmountOnExit:!0},n.a.createElement("div",{className:"ModalContainer"},n.a.createElement("section",{className:"ComparisonResults"},n.a.createElement("div",{className:"wrapper"},n.a.createElement("button",{"aria-label":"close modal",className:"ComparisonResults__button--close",onClick:a},"Close"),n.a.createElement("h2",{className:"ComparisonResults__heading"},"You should"," ",Math.abs(s-o)>Math.abs(s-i)?"cycle":"walk"),n.a.createElement("section",{className:"ComparisonResults__options"},n.a.createElement("div",{className:l("cycling")},n.a.createElement("img",{className:"ComparisonResults__icon",src:k.a,alt:"A cyclist"}),m(i)),n.a.createElement("div",{className:"ComparisonResults__details"},n.a.createElement("p",null,"Podcast length: ",y(s)),n.a.createElement("p",null,"Biking time: ",y(i)),n.a.createElement("p",null,"Walking time: ",y(o))),n.a.createElement("div",{className:l("pedestrian")},n.a.createElement("img",{className:"ComparisonResults__icon",src:v.a,alt:"A pedestrian"}),m(o))),n.a.createElement("div",{className:"ComparisonResults__body"},n.a.createElement("section",{className:"ComparisonResults__podcast",style:Math.abs(s-o)<Math.abs(s-i)?{order:1}:{}},n.a.createElement("img",{src:r.thumbnail,alt:"",className:"ComparisonResults__img"}),n.a.createElement("h3",{className:"ComparisonResults__podcastTitle"},r.title),n.a.createElement("a",{href:r.listennotes_url,target:"_blank",className:"ComparisonResults__link"},"More info")),n.a.createElement("section",{className:"ComparisonResults__map"},n.a.createElement("img",{src:c,alt:""}))),n.a.createElement("p",{className:"ComparisonResults__disclaimer"},"We don't advise taking your life in your hands by biking and podcasting."))))))}}]),t}(s.Component),L=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"Footer"},n.a.createElement("div",{className:"wrapper"},n.a.createElement("p",{className:"Footer__copy"},"Paths and Podcasts  |  Copyright 2019  |  Russell Bentulan, Alissa Cheng, Corey Derouin and James Lewis")))}}]),t}(s.Component),M=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(l.a)(this,Object(m.a)(t).call(this))).setBikeTime=function(t){e.setState({bikingTime:t})},e.setWalkTime=function(t){e.setState({walkingTime:t})},e.setLocations=function(t){e.setState({startAndEndLocations:t})},e.setPodcastTime=function(t){e.setState({podcastTime:t})},e.selectedEpisode=function(t){e.setState({podcastEpisode:t})},e.closeResults=function(){e.setState({podcastTime:"",podcastEpisode:{}})},e.directionsMap=function(t){e.setState({map:t})},e.scrollDown=function(){window.scrollTo(0,document.querySelector("#formArea").scrollHeight)},e.state={mapQuestApiKey:"uMDO6BJLrXNNrJI5BZ7A0tFS6AojdBjn",startAndEndLocations:{},bikingTime:"",walkingTime:"",podcastTime:"",podcastEpisode:{},map:""},e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(h,{scrollClickHandler:this.scrollDown}),n.a.createElement("div",{className:"Search__formArea",id:"formArea"},n.a.createElement(b,{setLocationsProp:this.setLocations,setBikeTimeProp:this.setBikeTime,setWalkTimeProp:this.setWalkTime,apiKey:this.state.mapQuestApiKey,stateProp:this.state,mapProp:this.directionsMap}),this.state.bikingTime?n.a.createElement(S,{setPodcastTime:this.setPodcastTime,selectedEpisodeProp:this.selectedEpisode}):null,this.state.bikingTime&&!this.state.podcastTime?n.a.createElement(T,{walkingTime:this.state.walkingTime,bikingTime:this.state.bikingTime}):null,this.state.podcastEpisode?n.a.createElement(P,{results:this.state,closeResultsProp:this.closeResults}):null),n.a.createElement(L,null))}}]),t}(s.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},9:function(e,t,a){}},[[27,1,2]]]);
//# sourceMappingURL=main.641ff06e.chunk.js.map
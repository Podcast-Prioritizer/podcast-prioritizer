(this["webpackJsonppodcast-prioritizer"]=this["webpackJsonppodcast-prioritizer"]||[]).push([[0],{16:function(e,t,a){},17:function(e,t,a){e.exports=a.p+"static/media/nounAngry.d6283cc7.png"},32:function(e,t,a){e.exports=a.p+"static/media/logo.0b2aa362.png"},33:function(e,t,a){e.exports=a.p+"static/media/cyclist.dad81756.png"},34:function(e,t,a){e.exports=a.p+"static/media/pedestrian.9f29c988.png"},39:function(e,t,a){e.exports=a(66)},66:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),i=a(18),o=a.n(i),r=a(5),c=a(6),l=a(8),d=a(7),m=a(9),u=(a(16),a(32)),p=a.n(u),h=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"Header"},n.a.createElement("div",{className:"Header__displayArea"},n.a.createElement("div",{className:"Header__headerContent"},n.a.createElement("div",{className:"wrapper"},n.a.createElement("div",{className:"Header__linksAndLogo"},n.a.createElement("img",{className:"Header__logo",src:p.a,alt:"Paths and Podcasts Logo",title:"Paths and Podcasts"})),n.a.createElement("h2",{className:"Header__tagline"},"Who said your commute has to be boring?")))))}}]),t}(s.Component),E=a(12),_=a.n(E),f=a(15),g=a.n(f),y=function(e){function t(){var e,s;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(s=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).displayMap=function(e,t){return _()({url:"https://www.mapquestapi.com/staticmap/v5/map",params:{key:s.props.apiKey,format:"png",start:e,end:t,size:"300,200@2x",zoom:12,routeColor:"24b62c",routeArc:!0}}).then((function(e){s.props.mapProp(e.request.responseURL)}))},s.getMapInfo=function(e){e.preventDefault(),_.a.all([s.makeAxiosCallBike(s.refs.userStart.value,s.refs.userDestination.value),s.makeAxiosCallWalk(s.refs.userStart.value,s.refs.userDestination.value)]).then((function(e){var t=e[0].data.route.locations,a={startAddress:t[0].street,startCity:t[0].adminArea5,endAddress:t[1].street,endCity:t[1].adminArea5},n=e[0].data.route.formattedTime.split(":").reduce((function(e,t){return 60*e+ +t})),i=e[1].data.route.formattedTime.split(":").reduce((function(e,t){return 60*e+ +t}));s.props.setLocationsProp(a),s.props.setBikeTimeProp(n),s.props.setWalkTimeProp(i),s.displayMap(t[0].street,t[1].street)})).catch((function(e){e?g.a.fire({title:"Uh-oh!",text:"Looks like you're not too sure where you're going.  Make sure you have included both a start and a destination address",imageUrl:a(17),imageWidth:100,confirmButtonText:"Let me try again",padding:"2rem"}):e.request?g.a.fire({title:"Uh-oh!",text:"Looks like you're not too sure where you're going.  Make sure you have included both a start and a destination address",imageUrl:a(17),imageWidth:100,confirmButtonText:"Let me try again",padding:"2rem"}):"00:00:00"!==s.props.stateProp.bikingTime&&""!==s.props.stateProps.walkingTime||g.a.fire({title:"Uh-oh!",text:"Looks like you're not too sure where you're going.  Make sure you have included both a start and a destination address",imageUrl:a(17),imageWidth:100,confirmButtonText:"Let me try again",padding:"2rem"})}))},s.makeAxiosCallBike=function(e,t){return _()({url:"https://www.mapquestapi.com/directions/v2/route",method:"GET",dataType:"json",params:{key:s.props.apiKey,from:e,to:t,routeType:"bicycle"}})},s.makeAxiosCallWalk=function(e,t){return _()({url:"https://www.mapquestapi.com/directions/v2/route",method:"GET",dataType:"json",params:{key:s.props.apiKey,from:e,to:t,routeType:"pedestrian"}})},s.autoCompleteDestination=function(){return _()({url:"http://www.mapquestapi.com/search/v3/prediction",method:"GET",dataType:"json",params:{key:s.props.apiKey,q:s.refs.userDestination.value,collection:"address"}}).then((function(e){e.data.results.slice(0,5).map((function(e){}))}))},s.componentDidMount=function(){window.placeSearch({key:s.props.apiKey,container:document.querySelector("#userStart")}),window.placeSearch({key:s.props.apiKey,container:document.querySelector("#userDestination")})},s}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"MapQuest__searchArea"},n.a.createElement("div",{className:"wrapper"},n.a.createElement("div",{className:"MapQuest__introContent"},n.a.createElement("h2",null,"Hit the road"),n.a.createElement("p",null,"Find the best way to reach your destination. Enter your start location and your desired destination.")),n.a.createElement("form",{className:"MapQuest__form",onSubmit:this.getMapInfo},n.a.createElement("label",{htmlFor:"userStart",className:"visuallyHidden"},"Enter Your Location"),n.a.createElement("input",{type:"search",id:"userStart",placeholder:"Enter Your Location",ref:"userStart"}),n.a.createElement("label",{htmlFor:"userDestination",className:"visuallyHidden"},"Enter Your Destination"),n.a.createElement("input",{type:"search",id:"userDestination",placeholder:"Enter Your Location",ref:"userDestination"}),n.a.createElement("button",{className:"MapQuest__submitBtn",type:"submit"},"Search"))))}}]),t}(s.Component),b=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(l.a)(this,Object(d.a)(t).call(this))).handleSubmit=function(t){t.preventDefault(),_()({url:"https://listen-api.listennotes.com/api/v2/search",method:"GET",headers:{"X-ListenAPI-Key":"f1e31e292af446549bfbfebe744dd3ce"},dataResponse:"jsonp",params:{q:e.state.userInput,type:"podcast"}}).then((function(t){e.setState({podcastList:t.data.results}),0===e.state.podcastList.length&&g.a.fire({title:"Uh-oh!",text:"Looks like we don't have any podcasts that match your criteria (you must be super picky!).  Please try again and broaden your horizons.",imageUrl:a(17),imageWidth:100,confirmButtonText:"Let me try again",padding:"2rem"})}))},e.handleChange=function(t){e.setState({userInput:t.target.value})},e.getRecentEpisodes=function(t){var a=t.target.id;_()({url:"https://listen-api.listennotes.com/api/v2/podcasts/".concat(a),method:"GET",headers:{"X-ListenAPI-Key":"f1e31e292af446549bfbfebe744dd3ce"},dataResponse:"json"}).then((function(t){var a=[];t.data.episodes.forEach((function(t,s){s<10&&(a.push(t),e.setState({episodeList:a}))}))}))},e.closeEpisodeList=function(){e.setState({episodeList:""})},e.totalTime=function(e){var t=Math.floor(e/3600),a=Math.round((e%=3600)/60);return t>0?"".concat(t," h ").concat(a," min"):"".concat(a," min")},e.showMore=function(e,t){document.getElementById("PodcastCard__description--".concat(t)).classList.toggle("PodcastCard__description--snippet"),"... Show more"===e.target.innerHTML?e.target.innerHTML="... Show less":e.target.innerHTML="... Show more"},e.selectEpisode=function(t,a){var s=e.state.episodeList[a].audio_length_sec;e.state.episodeList.map((function(n){n.id===t&&(e.props.setPodcastTime(s),e.props.selectedEpisodeProp(e.state.episodeList[a]))}))},e.showDetails=function(e,t){document.getElementById("EpisodeCard__description--".concat(t)).classList.remove("visuallyHidden"),document.getElementById("EpisodeCard__description--".concat(t)).setAttribute("open",!0)},e.closeDialog=function(e,t){document.getElementById("EpisodeCard__description--".concat(t)).classList.add("visuallyHidden"),document.getElementById("EpisodeCard__description--".concat(t)).setAttribute("open",!1)},e.state={podcastList:[],userInput:"",episodeList:[]},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("section",{className:"PodcastSearch"},n.a.createElement("div",{className:"wrapper"},n.a.createElement("div",{className:"PodcastSearch__introContent"},n.a.createElement("h2",null,"Pick your Podcast"),n.a.createElement("p",null,"Find an episode of a podcast to keep you entertained on your commute.")),n.a.createElement("form",{onSubmit:this.handleSubmit,className:"PodcastSearch__form"},n.a.createElement("input",{type:"text",placeholder:"Search podcast",onChange:this.handleChange,value:this.state.userInput,className:"PodcastSearch__textInput"}),n.a.createElement("button",{type:"submit",onSubmit:this.handleSubmit,className:"PodcastSearch__submitButton",onClick:this.closeEpisodeList},"Submit")),n.a.createElement("section",{className:"PodcastResults"},this.state.episodeList.length?n.a.createElement("button",{className:"PodcastResults__button--back",onClick:this.closeEpisodeList},n.a.createElement("span",{className:"visuallyHidden"},"Click here to go back"),n.a.createElement("i",{className:"fas fa-arrow-left",title:"Go back"})):null,n.a.createElement("ul",{className:"PodcastResults__list"},this.state.episodeList.length?this.state.episodeList.map((function(t,a){return n.a.createElement("li",{key:t.id,className:"EpisodeResults__item",ref:"singleEpisode"},n.a.createElement("img",{src:t.thumbnail,alt:t.title,className:"PodcastCard__image"}),n.a.createElement("div",null,n.a.createElement("h2",{className:"PodcastCard__title"},t.title),n.a.createElement("dialog",{className:"visuallyHidden",id:"EpisodeCard__description--".concat(a)},n.a.createElement("div",{className:"EpisodeCard__titleBar"},n.a.createElement("p",null,t.title),n.a.createElement("button",{className:"EpisodeCard__closeDialog",onClick:function(t){e.closeDialog(t,a)}},"x")),n.a.createElement("div",{dangerouslySetInnerHTML:{__html:t.description},className:"EpisodeCard__description"})),n.a.createElement("div",{className:"EpisodeCard__options"},n.a.createElement("div",{className:"EpisodeCard__options--container"},n.a.createElement("button",{className:"EpisodeCard__options--listen",onClick:function(){return e.selectEpisode(t.id,a)}},n.a.createElement("i",{className:"fas fa-headphones-alt"})," Listen"),n.a.createElement("p",{className:"EpisodeCard__options--audioLength"},e.totalTime(t.audio_length_sec))),n.a.createElement("button",{className:"EpisodeCard__options--details",onClick:function(t){e.showDetails(t,a)}},"Details"))))})):this.state.podcastList.map((function(t,a){return n.a.createElement("li",{className:"PodcastResults__item",key:t.id},n.a.createElement("div",null,n.a.createElement("img",{src:t.thumbnail,alt:t.title_original,className:"PodcastCard__image",id:t.id,onClick:e.getRecentEpisodes}),n.a.createElement("button",{id:t.id,onClick:e.getRecentEpisodes,className:"PodcastCard__button"},"Episodes")),n.a.createElement("div",{className:"PodcastCard__text"},n.a.createElement("h2",{className:"PodcastCard__title"},t.title_original.split("|")[0]),n.a.createElement("p",{className:"PodcastCard__description PodcastCard__description--snippet",id:"PodcastCard__description--".concat(a)},t.description_original),t.description_original.length>450?n.a.createElement("button",{className:"PodcastCard__button--showMore",onClick:function(t){e.showMore(t,a)}},"... Show more"):null))}))))))}}]),t}(s.Component),v=a(68),C=a(33),k=a.n(C),N=a(34),T=a.n(N),w=function(e){function t(){var e,a;Object(r.a)(this,t);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).readableTime=function(e){return"".concat(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"s ",a=Math.floor(Math.abs(e)/3600);return a?"".concat(a," hour").concat(1!==a?t:" "):""}(e)).concat(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"s",a=Math.round(Math.abs(e)/60);return"".concat(a>60?a%60:a," minute").concat(1!==a?t:"")}(e))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.results,s=t.closeResultsProp,i=a.podcastTime,o=a.bikingTime,r=a.walkingTime,c=a.map;function l(e){var t={cycling:"ComparisonResults__option",pedestrian:"ComparisonResults__option"};return Math.abs(i-r)>Math.abs(i-o)?t.cycling="ComparisonResults__option ComparisonResults__option--selected":t.pedestrian="ComparisonResults__option ComparisonResults__option--selected",t[e]}var d=function(t){var a=t-i;return t===i?n.a.createElement("span",{className:"ComparisonResults__timeDifference ComparisonResults__timeDifference--exact"},"EXACT MATCH"):a<0?n.a.createElement("span",{className:"ComparisonResults__timeDifference ComparisonResults__timeDifference--lower"},"-",e.readableTime(a)):n.a.createElement("span",{className:"ComparisonResults__timeDifference ComparisonResults__timeDifference--higher"},"+",e.readableTime(a))};return n.a.createElement(n.a.Fragment,null,n.a.createElement(v.a,{in:!!i,timeout:400,classNames:"show-modal",component:null,mountOnEnter:!0,unmountOnExit:!0},n.a.createElement("div",{className:"ModalContainer"},n.a.createElement("section",{className:"ComparisonResults"},n.a.createElement("div",{className:"wrapper"},n.a.createElement("button",{"aria-label":"close modal",className:"ComparisonResults__button--close",onClick:s},"Close"),n.a.createElement("h2",{className:"ComparisonResults__heading"},"You should"," ",Math.abs(i-r)>Math.abs(i-o)?"cycle":"walk"),n.a.createElement("section",{className:"ComparisonResults__options"},n.a.createElement("div",{className:l("cycling")},n.a.createElement("img",{className:"ComparisonResults__icon",src:k.a,alt:"A cyclist"}),d(o)),n.a.createElement("div",{className:"ComparisonResults__details"},n.a.createElement("p",null,"Podcast length: ",this.readableTime(i)),n.a.createElement("p",null,"Biking time: ",this.readableTime(o)),n.a.createElement("p",null,"Walking time: ",this.readableTime(r))),n.a.createElement("div",{className:l("pedestrian")},n.a.createElement("img",{className:"ComparisonResults__icon",src:T.a,alt:"A pedestrian"}),d(r))),n.a.createElement("section",{className:"ComparisonResults__map"},n.a.createElement("img",{src:c,alt:""})),n.a.createElement("p",{className:"ComparisonResults__disclaimer"},"We don't advise taking your life in your hands by biking and podcasting."))))))}}]),t}(s.Component),P=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"Footer"},n.a.createElement("div",{className:"wrapper"},n.a.createElement("p",{className:"Footer__copy"},"Paths and Podcasts  |  Copyright 2019  |  Russell Bentulan, Alissa Cheng, Corey Derouin and James Lewis")))}}]),t}(s.Component),L=a(35),S=a(13),j=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(l.a)(this,Object(d.a)(t).call(this))).setBikeTime=function(t){e.setState({bikingTime:t})},e.setWalkTime=function(t){e.setState({walkingTime:t})},e.setLocations=function(t){e.setState({startAndEndLocations:t})},e.setPodcastTime=function(t){e.setState({podcastTime:t})},e.selectedEpisode=function(t){e.setState({podcastEpisode:t})},e.closeResults=function(){e.setState({podcastTime:""})},e.directionsMap=function(t){e.setState({map:t})},e.state={mapQuestApiKey:"uMDO6BJLrXNNrJI5BZ7A0tFS6AojdBjn",startAndEndLocations:{},bikingTime:"",walkingTime:"",podcastTime:"",podcastEpisode:{},map:""},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement(L.a,null,n.a.createElement(S.a,{path:"/",component:h}),n.a.createElement("div",{className:"Search__formArea"},n.a.createElement(y,{setLocationsProp:this.setLocations,setBikeTimeProp:this.setBikeTime,setWalkTimeProp:this.setWalkTime,apiKey:this.state.mapQuestApiKey,stateProp:this.state,mapProp:this.directionsMap}),this.state.bikingTime?n.a.createElement(b,{setPodcastTime:this.setPodcastTime,selectedEpisodeProp:this.selectedEpisode}):null,this.state.podcastEpisode?n.a.createElement(w,{results:this.state,closeResultsProp:this.closeResults}):null),n.a.createElement(S.a,{path:"/",component:P}))}}]),t}(s.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[39,1,2]]]);
//# sourceMappingURL=main.7209e36c.chunk.js.map